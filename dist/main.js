!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var i=(()=>{const e={};return{subscribe:(t,r)=>{e[t]||(e[t]=[]),e[t].push(r)},unsubscribe:(t,r)=>{e[t]&&(e[t]=e[t].filter(e=>e!==r))},publish:(t,r)=>{Array.isArray(e[t])&&e[t].forEach(e=>e(r))}}})();var n=e=>{const t=e.querySelector(".form-container"),r=e.querySelector("form"),n=e.querySelector(".add"),s=(e.querySelector(".update"),e.querySelector("#cancel"));function a(){t.classList.toggle("visible")}i.subscribe("editTask",(function(e){r.title.value=e.title,r["datetime-local"].value=e.dueDate,r.priority.value=e.priority,a()})),[n,s].forEach(e=>e.addEventListener("click",a)),r.addEventListener("submit",e=>{e.preventDefault(),function(e){const t=new FormData(e);i.publish("addTask",{title:t.get("title"),datetime:t.get("datetime-local"),priority:t.get("priority")})}(r),a(),r.reset()})};var s=(e=>{const t=(t,r,i)=>{const n=e.createElement(t);return r&&Object.keys(r).forEach(e=>{n.setAttribute(e,r[e])}),i&&(n.textContent=i),n};return{createElement:e=>{const r=t("li",{id:e.id,class:`task ${e.priority}-priority`}),n=t("div",{class:"task-header"}),s=t("div",{class:"deadline"},e.dueDate),a=t("div",{class:"controls"}),o=t("button"),l=t("i",{class:"far fa-edit"}),u=t("button"),d=t("i",{class:"far fa-trash-alt"}),c=t("div",{class:"task-text"},e.title);return o.addEventListener("click",()=>i.publish("editTask",e)),u.addEventListener("click",()=>i.publish("removeTask",e)),o.appendChild(l),u.appendChild(d),a.appendChild(o),a.appendChild(u),n.appendChild(s),n.appendChild(a),r.appendChild(n),r.appendChild(c),r}}})(document);var a=class{constructor(e,t,r,i,n){this.id=e,this.title=t||"",this.dueDate=r||"",this.priority=i||"Low",this.isComplete=n||!1,this.element=s.createElement(this)}set id(e){this._id=e}get id(){return this._id}set title(e){this._title=e}get title(){return this._title}set dueDate(e){this._dueDate=e}get dueDate(){return this._dueDate}set priority(e){this._priority=e}get priority(){return this._priority}set isComplete(e){this._isComplete=e}get isComplete(){return this._isComplete}set element(e){this._element=e}get element(){return this._element}};var o=e=>{const t=[];let r=0;function n(e){t.push(new a(r++,e.title,e.datetime,e.priority,!1)),l()}function s(e){t.splice(o(e),1),l()}i.subscribe("addTask",n),i.subscribe("removeTask",s);const o=e=>t.findIndex(t=>t.id===e.id),l=()=>{e.innerHTML="",t.forEach(t=>e.appendChild(t.element))};return{addTask:n,removeTask:s,renderTasks:l}};window.addEventListener("load",(function(){n(document),o(document.querySelector("ul"))}))}]);